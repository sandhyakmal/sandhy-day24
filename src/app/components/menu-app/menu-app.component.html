<div class="container mt-3">
    <div class="row">
        <div class="col-md-4">
            <div class="card shadow">
                <div class="card-body">
                    <div class="card-title">
                        <h2>Menu App</h2>
                    </div>

                    <div class="form-group mb-2">
                        <label class="form-label">Makanan / Minumam</label>
                        <input [(ngModel)]="menu.name" type="text" class="form-control">
                        <label class="form-label">Harga</label>
                        <input [(ngModel)]="menu.harga" type="number" min="0" class="form-control">
                        <label class="form-label">Qty</label>
                        <input [(ngModel)]="menu.qty" type="number" min="0" class="form-control">
                    </div>
                    <button (click)="addMenu()" class="btn btn-primary">Tambah</button>
                    
                </div>
            </div>
        </div>


        

        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <h2>Pesanan</h2>
                    </div>
                    <table *ngIf="menus.length > 0 ; else emptyMenu" class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Makanan / Minuman</th>
                                <th>Jumlah</th>
                                <th>Harga</th>
                                <th>Sub Total</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody *ngIf="menus">
                            
                            <ng-template ngFor let-task [ngForOf]="menus" let-i="index">
                                <tr >
                                    <td>{{task.name}}</td>
                                    <td>{{task.harga}}</td>
                                    <td>{{task.qty}}</td>
                                    <td>{{task.harga * task.qty | currency:"IDR "}}</td>
                                    <td>
                                        <button (click)="remove(i)" class="btn btn-danger">Delete</button>
                                    </td>
                                </tr>  
                            </ng-template>
                            
                        </tbody>
                        <tfoot>

                            <tr>    
                                <th colspan="3">Total:</th>
                                <th colspan="3">{{ price | currency:"IDR " }}</th>
                            </tr>
                            <tr>    
                                <th colspan="3">Pajak:</th>
                                <th colspan="3">{{ 11/100 | percent}}</th>
                            </tr>
                            <tr>    
                                <th colspan="3">Total Semua:</th>
                                <th colspan="3">{{ (price * (11/100)) + price | currency:"IDR  " }}</th>
                            </tr>
                            <tr>
                                <th colspan="5">Jumlah Pembayaran:
                                    <input (keypress)="enter($event)" min="0" [(ngModel)]="bayar" type="number" class="form-control"> 
                                </th>
                            </tr>
                            <tr>
                                <th colspan="5">Kembalian :
                                    <div *ngIf="statusPembayaran" class="alert alert-primary" role="alert">
                                        {{ hasil | currency:"IDR " }}
                                    </div>
                                    <div *ngIf="!statusPembayaran" class="alert alert-danger" role="alert">
                                        Jumlah Bayar tidak memenuhi
                                    </div>
                                </th>
                            </tr>

                        </tfoot>
                    </table>
                    
                    <ng-template #emptyMenu> 
                        <div class="alert alert-warning" role="alert">
                            Masih Kosong!
                          </div>
                    </ng-template>
                    
                </div>
            </div>
        </div>

    </div>
</div>